# Hot Module Reload

Now, if you read the documentation about the web pack dev server, it tells you about a mode called HOT, which stands for hot module reloading, which is a way where you can see things change on your page without you needing to refresh. However, first you need to set your system up correctly to be able to do this. Second, unless you're doing a little bit more work, it only works for CSS. You can make it work for Java Script, especially if you're using a framework, like React, but it's not going to happen out of the box. I do want to get it working.

First, you activate it by passing a new file called dash, dash hot. Now, when you do this, I'll refresh the page once after that change. If I make a change to my app, like I'll change my CSS back, you'll notice it still refreshes. According to a lot of documentation, it should have already worked right then. What's going on? If you go over to your console, you can actually go to this gear icon, and you can click preserve law. What that's going to do is it's actually going to keep log messages across requests. I'm going to refresh once. Wait for it to load. Clear it out. Then, go make a change to my app. Then come back. It says app updated, recompiling. Then, it refreshes the whole page.

Check this out. It says checking for updates on the server. Then you see a request to local host, colon 8,000, which is some sort of 404. Then it says, cannot find update. Need to do a full reload, probably because of restarting the web pack dev server. Actually, what's happening here is they dev server maintains a file, this hot update dot JS file, that contains information about what needs to be updated on the front end.

Our app is trying. Web pack is making an ajax call asking for more information. Since all of our Java script is downloaded on the server local host, colon 8,000, when it makes any ajax calls, it makes them to local host, colon 8,000.

Actually we want that to be made to local host 80 80. This is actually more important than just the dev server. There are times when web pack needs to make ajax calls back to your server. It must know what the public URL is to your assets. Actually, we've already set that in web pack dot config dot JS, up in the output section. We set a public pass setting, which told web pack that all of our stuff lives under slash build.

If you're using the web pack dev server, or you're using a CBN, this public path needs to be an absolute URL to that CBN or to the dev server. In other words, that needs to change. I'm actually going to set a couple new variables at the top. I'm going to say use dev server true. It's going to allow us to flag so that we can turn the dev server on and off easily. Then, I'm going to say const public path equals use dev server, question mark low host, colon 80 80, slash build, slash else use the normal slash build slash.

Depending on whether or not we're using the dev server, that setting is going to change and now we'll use that down here for our public path. While we're here, there's one other change we're going to need to make and that's down in the dev server. Add another line called headers, with access dash control dash allow dash origin set to star. Because our dev server and our actual server are on two different ports, locals colon 8,000, versus local host 80 80, cores security is going to prevent local host colon 8,000 from making ajax calls to the other domain. By adding this header, that allows those calls to be made. This is another detail you don't see often in the web pack dot quotation, because a lot of time, they expect you to be just building an index dot HTML file, and actually loading that through the dev server.

Now, I'm going to back and restart web pack dev server with the dash dash hot flag. Then head over here and manually refresh our page to make sure everything looks right. I'm going to clear out our log messages.

Ready for this? Head over. Go back to your main dot CSS. Tweak the settings. It says app update recompiling. It says some other stuff but it did not refresh. Did that just work? I'm not really sure. Let's make a more noticeable change. How about from 2% to 99%. Go back over and that button turns nearly black. That is hot module reloading. It's pretty sweet.

As I mentioned, you can get that to work with Java script, most notably with front end frameworks like view dot JS or react dot JS. To be on this tutorial, you'll need to add more configurations to your web back dot config dot JS to get this to load. Even for CSS, well unfortunately, in the next chapter I'm going to complicate things by talking about the very important extract text web in.
